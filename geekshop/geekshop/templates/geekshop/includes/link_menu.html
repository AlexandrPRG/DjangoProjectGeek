{% load static %}
<div class="header clearfix">
    <a href="{% url 'index' %}"
       class="logo">
    </a>
    <ul class="menu">
        <li><a href="{% url 'index' %}"
               class="{% if request.resolver_match.route == '' %}active{% endif %}">
            домой
            </a>
        </li>
        <li>
            <a href="{% url 'products:index' %}"
                class="{% if request.resolver_match.route == 'products/' %}active{% endif %}">
                продукты
            </a>
        </li>
        <li>
            <a href="{% url 'contacts' %}"
                class="{% if request.resolver_match.route == 'contacts/' %}active{% endif %}">
                контакты
            </a>
        </li>
        {% if user.is_authenticated %}
            {% if user.first_name is not None %}
                <li>
                    <a href="{% url 'auth:edit' %}">
                        {{ user.first_name|default:'first' }}
                    </a>
                </li>
            {% else %}
                <li>
                    <a href="{# url 'auth:edit' user.pk }">
                        {{ user.username|default:'user' }}
                    </a>
                </li>
            {% endif %}
        {% endif %}
        <li>
        {% if user.is_authenticated %}
            <a href="{% url 'auth:logout' %}">
                выйти
            </a>
        {% else %}
            <a href="{% url 'auth:login' %}">
                войти
            </a>
        {% endif %}
        </li>
   </ul>
    <a href="#"
       class="search">
    </a>
    <a href="{% url 'basket:view' %}"
       class="basket"
       style="width:100px">
        <span>{% if basket %}
                    {{basket.0.total_cost|floatformat:0 }} руб.
                    {{basket.0.total_quantity|floatformat:0 }} шт.
              {% endif %}
        </span>
    </a>
</div>